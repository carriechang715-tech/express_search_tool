# 📦 快递评估工具 - v2.0 更新说明

## 🎉 新功能

### 1. 寄件类型选项

现在可以根据不同的寄件内容选择对应类型，不同类型价格有差异：

#### 国际快递寄件类型

**DHL国际快递**
- 📄 文件 - 非商品类文件、资料
- 📦 包裹 - 普通商品包裹  
- 🎁 样品 - 商业样品、展示品
- 🏢 商品 - 商业货物

**FedEx联邦快递**
- ✉️ 文件信封 - 轻小文件
- 📋 FedEx Pak - 标准包装文件
- 📦 纸箱包裹 - 普通包裹
- 🚛 货运 - 大宗货物

**UPS快递**
- 📧 信函 - 文件信函
- 📦 包裹 - 标准包裹
- 🏗️ 托盘 - 托盘货物

**EMS国际快递**
- 📄 国际文件 - 文件资料
- 📦 国际包裹 - 普通包裹
- 📮 e邮宝 - 小包经济件

**TNT国际快递**
- 📄 文件 - 文件快递
- 📦 包裹 - 包裹快递
- 🏗️ 托盘货物 - 托盘运输

**SF国际快递**
- 📄 文件 - 国际文件
- 📦 包裹 - 国际包裹
- ⚖️ 重货 - 重量包裹

#### 国内快递寄件类型

**顺丰快递**
- 📄 文件 - 文件快件
- 📦 包裹 - 普通包裹
- 🥬 生鲜 - 生鲜配送
- ❄️ 冷运 - 冷链运输

**京东快递**
- 📄 文件 - 文件快递
- 📦 包裹 - 普通包裹
- 💻 3C数码 - 数码产品
- 🥬 生鲜 - 生鲜配送

**中通/圆通/韵达快递**
- 📄 文件 - 文件快件
- 📦 包裹 - 包裹快递
- 📏 大件 - 大件包裹

**邮政快递**
- ✉️ 信函 - 信函邮件
- 📦 包裹 - 普通包裹
- ⚡ EMS - EMS特快

**极兔快递**
- 📄 文件 - 文件快件
- 📦 包裹 - 普通包裹
- 📏 大件 - 大件快递

---

### 2. 服务类型选项

根据时效和价格需求选择不同服务：

#### 国际快递服务类型

**DHL国际快递**
- ⚡ DHL Express 特快 - 全球最快
- 📦 DHL 标准件 - 标准国际快递
- 💰 DHL Economy 经济件 - 经济实惠

**FedEx联邦快递**
- 🚀 FedEx IP 优先型 - 1-3天到达
- 📦 FedEx IE 经济型 - 4-7天到达
- 🚛 FedEx Ground 陆运 - 经济陆运

**UPS快递**
- ⚡ UPS Express 特快 - 最快递送
- 🚀 UPS Expedited 加急 - 加急服务
- 📦 UPS Standard 标准 - 标准服务
- 💰 UPS Saver 经济 - 经济实惠

**EMS国际快递**
- ⚡ EMS 特快 - 特快业务
- 📦 EMS 标准 - 标准业务
- 💰 EMS 经济 - 经济业务
- ✈️ 空运水陆路 - 空运服务

**TNT国际快递**
- 🌅 TNT 9:00 特快 - 次日9点前
- ⏰ TNT 12:00 快递 - 次日12点前
- 📦 TNT Express - 标准快递
- 💰 TNT Economy - 经济快递

**SF国际快递**
- ⚡ SF国际特惠 - 特快服务
- 📦 SF国际标快 - 标准快递
- 💰 SF国际经济 - 经济快递
- ✈️ 国际航空 - 航空加急

#### 国内快递服务类型

**顺丰快递**
- 🏃 顺丰即日 - 当日达
- 🌙 顺丰次晚 - 次日达
- 📦 顺丰标快 - 标准快递
- 💰 顺丰特惠 - 经济实惠

**京东快递**
- 💸 特惠送 - 特惠价格
- 📦 普通快递 - 标准服务
- ⏰ 京准达 - 准时送达
- 🏃 京同达 - 同城当日

**中通/圆通/韵达快递**
- 💰 经济件 - 经济实惠
- 📦 标准快递 - 标准服务
- ⚡ 加急件 - 加急送达

**邮政快递**
- 🚶 普通包裹 - 经济选项
- 📦 标准快递 - 标准服务
- ⚡ EMS特快 - 特快服务

**极兔快递**
- 💰 特惠件 - 超省钱
- 📦 标准快递 - 普通服务
- ⚡ 加急快递 - 加急服务

---

## 💡 使用方法

### 1. 选择寄件和收件地

选择寄件国家/城市和收件国家/城市

### 2. 填写包裹信息

- **重量**：输入包裹重量（公斤）
- **寄件类型**：根据实际寄送内容选择类型
  - 不同类型价格有差异
  - 例如：文件通常比包裹便宜

### 3. 选择服务选项

- **服务类型**：根据时效和预算需求选择
  - 特快/即日：最快但价格高
  - 标准：平衡价格和速度
  - 经济：价格最低但时效较慢
- **加急服务**：旧版本兼容选项

### 4. 查看评估结果

系统会根据您的选择：
- 计算不同快递公司的价格
- 评估预计送达时间
- 推荐性价比最高的选项

---

## 🔧 技术实现

### 价格计算逻辑

```javascript
最终价格 = (基础价 + 续重价 × (重量-1)) × 寄件类型系数 × 服务类型系数 × 重量优惠
```

**寄件类型系数示例**：
- 文件：0.7 - 0.9（便宜）
- 包裹：1.0（标准）
- 重货：1.1 - 1.3（较贵）

**服务类型系数示例**：
- 特快：1.5 - 2.0（贵但快）
- 标准：1.0（标准）
- 经济：0.7 - 0.85（便宜但慢）

### 时效计算逻辑

```javascript
最终时效 = 基础天数 × 服务类型时效系数
```

**时效系数示例**：
- 特快：0.3 - 0.6（快）
- 标准：1.0（标准）
- 经济：1.3 - 2.0（慢）

---

## 🌐 API 使用

### API 端点

```
GET/POST https://你的域名/api/calculate
```

### 新增参数

```javascript
{
  "fromCountry": "CN",
  "toCountry": "US",
  "weight": 2.5,
  "urgent": false,
  "parcelType": "package",    // 新增：寄件类型
  "serviceType": "standard"   // 新增：服务类型
}
```

### 调用示例

```bash
# GET 请求
curl "https://你的域名/api/calculate?from=CN&to=US&weight=2&parcelType=document&serviceType=express"

# POST 请求
curl -X POST "https://你的域名/api/calculate" \
  -H "Content-Type: application/json" \
  -d '{
    "fromCountry": "CN",
    "toCountry": "US",
    "weight": 2.5,
    "parcelType": "package",
    "serviceType": "standard"
  }'
```

---

## 📊 数据来源

所有寄件类型和服务类型均基于各快递公司官方网站的实际服务内容：

- DHL: https://www.dhl.com/cn-zh/home.html
- FedEx: https://www.fedex.com/zh-cn/home.html
- UPS: https://www.ups.com/cn/zh/Home.page
- EMS: https://www.ems.com.cn/
- TNT: https://www.tnt.com/express/zh_cn/site/home.html
- 顺丰: https://www.sf-express.com/
- 京东: https://www.jdl.com/
- 中通: https://www.zto.com/
- 圆通: https://www.yto.net.cn/
- 韵达: https://www.yunda.com/
- 邮政: https://www.chinapost.com.cn/
- 极兔: https://www.jtexpress.cn/

---

## ✨ 优势特点

### 1. 动态智能

- ✅ 根据寄收件地自动显示相关选项
- ✅ 不同快递公司有不同的服务组合
- ✅ 实时计算价格和时效

### 2. 灵活选择

- ✅ 寄件类型：7-13种选项
- ✅ 服务类型：3-4种时效选择
- ✅ 完全向后兼容

### 3. 精准计算

- ✅ 考虑寄件类型价格差异
- ✅ 考虑服务类型时效差异
- ✅ 自动应用重量优惠

### 4. 用户友好

- ✅ 每个选项都有详细说明
- ✅ 清晰的价格和时效对比
- ✅ 推荐性价比最优方案

---

## 🔄 兼容性

### 向后兼容

- ✅ 寄件类型和服务类型为**可选参数**
- ✅ 不选择时使用默认值
- ✅ 旧版 API 调用完全兼容
- ✅ "加急服务"选项保留

### 升级建议

建议使用新的 `serviceType` 参数替代 `urgent`：
- `urgent: true` → `serviceType: "express"`
- `urgent: false` → `serviceType: "standard"`

---

## 📝 更新日志

### v2.0.0 (2025-10-21)

**新增功能**
- ✅ 添加寄件类型选项（13家快递公司共90+选项）
- ✅ 添加服务类型选项（13家快递公司共50+选项）
- ✅ 动态表单根据选择显示相关选项
- ✅ 价格计算考虑寄件类型系数
- ✅ 时效计算考虑服务类型系数
- ✅ API 支持新参数

**优化改进**
- ✅ 计算逻辑更精准
- ✅ 性价比评估更合理
- ✅ 用户体验更流畅

**数据更新**
- ✅ 基于各快递公司官网最新服务
- ✅ 价格系数更符合实际
- ✅ 时效系数更准确

---

## 🆘 常见问题

### Q: 必须选择寄件类型和服务类型吗？
A: 不是必须的，不选择时系统会使用默认值（包裹+标准服务）

### Q: 选择不同类型价格差多少？
A: 根据快递公司不同，差异在20%-50%之间

### Q: 如何选择最合适的服务类型？
A: 根据您的需求：
- 赶时间 → 选择特快/即日
- 正常使用 → 选择标准
- 省钱 → 选择经济

### Q: API 需要更新吗？
A: 不需要，新参数是可选的，旧版调用仍然有效

---

## 🎯 下一步计划

- [ ] 添加更多快递公司
- [ ] 支持体积计费
- [ ] 对接真实快递 API
- [ ] 添加价格趋势分析
- [ ] 支持批量查询

---

**祝您使用愉快！** 🎉
